<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box{
            display:flex;
            flex-wrap: wrap;
            height:150px;
            width:150px;
            background-color: aquamarine;
            justify-content: center;
            align-items: center;
        }
        button{
            height:50px;
            width:50px;
        }
        .box2{
            display:flex;
            flex-wrap:wrap;
            height:100px;
            width:150px;
            justify-content: center;
            align-items: center;
        }
    </style>
    <script>
        var ar=['1','2','3','4','5','6','7','8',''];
        var id=["1","2","3","4","5","6","7","8","9"];
        var i=['11','12','13','14','15','16','17','18','19'],f=0,g=0;
        function move(s,d){
            let t=0;
            if(ar[d]!=='' && f==1){
                const ci=document.getElementById(id[d]);
                if(d+3<9 && ar[d+3]==''){
                    ar[d+3]=ar[d];
                    ar[d]='';
                    const bi=document.getElementById(id[d+3]);
                    bi.innerHTML=ar[d+3];
                    document.getElementById(i[d+3]).style.backgroundColor='aqua';
                    ci.innerHTML='';
                    document.getElementById(i[d]).style.backgroundColor='white';
                    t=1;
                }else if(d-3>=0 && ar[d-3]==''){
                    ar[d-3]=ar[d];
                    ar[d]='';
                    const bi=document.getElementById(id[d-3]);
                    bi.innerHTML=ar[d-3];
                    document.getElementById(i[d-3]).style.backgroundColor='aqua';
                    ci.innerHTML='';
                    document.getElementById(i[d]).style.backgroundColor='white';
                    t=1;
                }else if((d+1)%3!=0 && d+1<9 && ar[d+1]==''){
                    ar[d+1]=ar[d];
                    ar[d]='';
                    const bi=document.getElementById(id[d+1]);
                    bi.innerHTML=ar[d+1];
                    document.getElementById(i[d+1]).style.backgroundColor='aqua';
                    ci.innerHTML='';
                    document.getElementById(i[d]).style.backgroundColor='white';
                    t=1;
                }else if(d%3!=0 && d-1>=0 && ar[d-1]==''){
                    ar[d-1]=ar[d];
                    ar[d]='';
                    const bi=document.getElementById(id[d-1]);
                    bi.innerHTML=ar[d-1];
                    document.getElementById(i[d-1]).style.backgroundColor='aqua';
                    ci.innerHTML='';
                    document.getElementById(i[d]).style.backgroundColor='white';
                    t=1;
                }
                if(t==1){
                    movement=movement+1;
                    document.getElementById('movement').innerHTML="Moves - "+movement;
                    g=0;
                    for(let i=0;i<8;i++){
                        if(id[i]!=ar[i]){
                            g=1;
                            break;
                        }
                    }
                    if(g==0){
                        f=0;

                        document.getElementById('message').innerHTML="CONGRATULATION,YOU WIN!!!"
                    }
                }
            }
        }
        function shuffle(){
            f=1;
            movement=0;
            document.getElementById('movement').innerHTML="Moves - "+movement;
            let d=Math.floor(Math.random()*16)+5;
            let ar1=[1,3,5,7],ar2=[0,2,6,8],a,b,c;
            for(a=0;a<9;a++){
                if(a==4 && ar[a]==''){
                    break;
                }
                if(ar[a]==''){
                    if(a%2==0){
                        if(a==2||a==8){
                            ar[a]=ar[5];
                            ar[5]=ar[4];
                            ar[4]='';
                        }else{
                            ar[a]=ar[3];
                            ar[3]=ar[4];
                            ar[4]='';
                        }
                    }else{
                        ar[a]=ar[4];
                        ar[4]='';
                    }
                }
            }
            while(d!=0){
                a=Math.floor(Math.random()*4);
                b=Math.floor(Math.random()*4);
                c=ar[ar1[a]];
                ar[ar1[a]]=ar[ar2[b]];
                ar[ar2[b]]=c;
                c=Math.floor(Math.random()*4);
                a=ar[ar2[b]];
                ar[ar2[b]]=ar[ar1[c]];
                ar[ar1[c]]=a;
                d=d-1;
            }
            d=Math.floor(Math.random()*3);
            if(d==0){
                a=Math.floor(Math.random()*4);
                ar[4]=ar[ar1[a]];
                ar[ar1[a]]='';
            }else if(d==1){
                a=Math.floor(Math.random()*4);
                ar[4]=ar[ar1[a]];
                ar[ar1[a]]='';
                if(ar1[a]==1||ar1[a]==7){
                    ar[ar1[a]]=ar[ar1[a]-1];
                    ar[ar1[a]-1]='';
                }else{
                    ar[ar1[a]]=ar[ar1[a]+3];
                    ar[ar1[a]+3]='';
                }
            }
            for(a=0;a<9;a++){
                let s=document.getElementById(id[a]);
                s.innerHTML=ar[a];
                if(ar[a]!=''){
                    document.getElementById(i[a]).style.backgroundColor='aqua';
                }else{
                    document.getElementById(i[a]).style.backgroundColor='white';
                }
            }
        }
    </script>
</head>
<body>
    <div>
        <h3 style="color:rgb(11,11,100)">8-PUZZLE GAME.</h3>
        <h4 id="movement"></h4>
        <h4 id="timer"></h4>
    </div>
    <div class="box">
        <button id="11" style="background-color: aqua;" onclick="move('1',0)"><h3 id="1">1</h3></button>
        <button id="12" style="background-color: aqua;" onclick="move('2',1)"><h3 id="2">2</h3></button>
        <button id="13" style="background-color: aqua;" onclick="move('3',2)"><h3 id="3">3</h3></button>
        <button id="14" style="background-color: aqua;" onclick="move('4',3)"><h3 id="4">4</h3></button>
        <button id="15" style="background-color: aqua;" onclick="move('5',4)"><h3 id="5">5</h3></button>
        <button id="16" style="background-color: aqua;" onclick="move('6',5)"><h3 id="6">6</h3></button>
        <button id="17" style="background-color: aqua;" onclick="move('7',6)"><h3 id="7">7</h3></button>
        <button id="18" style="background-color: aqua;" onclick="move('8',7)"><h3 id="8">8</h3></button>
        <button id="19" style="background-color: aqua;" onclick="move('9',8)"><h3 id="9">9</h3></button>
    </div>
    <div class="box2"><button style="height:20px; width:70px;background:rgba(100,0,100,0.7);" onclick="shuffle()">Shuffle</button></div>
    <h3 id='message' style="color:blue;"></h3>
</body>
</html>